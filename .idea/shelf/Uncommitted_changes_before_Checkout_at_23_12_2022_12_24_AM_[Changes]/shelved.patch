Index: app/src/main/java/com/poly/restaurant/utils/Constants.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.poly.restaurant.utils;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.AlertDialog;\r\nimport android.content.ActivityNotFoundException;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.graphics.Color;\r\nimport android.graphics.drawable.ColorDrawable;\r\nimport android.net.Uri;\r\nimport android.view.Gravity;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.widget.TextView;\r\n\r\nimport com.poly.restaurant.R;\r\nimport com.poly.restaurant.data.models.Bill;\r\nimport com.poly.restaurant.data.models.Product;\r\nimport com.poly.restaurant.data.models.Staff;\r\nimport com.poly.restaurant.data.retrofit.RetroInstance;\r\nimport com.poly.restaurant.data.retrofit.ServiceAPI;\r\nimport com.poly.restaurant.databinding.DialogShowDetailBillBinding;\r\nimport com.poly.restaurant.ui.activities.product.appetizer.adapter.ProductAdapter;\r\nimport com.poly.restaurant.ui.bill.adapter.ShowDetailProductBillAdapter;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport retrofit2.Call;\r\nimport retrofit2.Callback;\r\nimport retrofit2.Response;\r\n\r\n@SuppressLint(\"SetTextI18n\")\r\npublic class Constants {\r\n    public static final int TABLE_EMPTY_STATUS = 0;\r\n    public static final int TABLE_LIVE_STATUS = 1;\r\n    public static final String EXTRA_ID_BILL_TO_TABLE_DETAIL = \"EXTRA_ID_BILL_TO_TABLE_DETAIL\";\r\n    public static final String EXTRA_ID_STAFF_TO_TABLE_DETAIL = \"EXTRA_ID_STAFF_TO_TABLE_DETAIL\";\r\n    public static final String STRING_CONTENT_TO_ANNOUNCE = \"content_to_announce\";\r\n    public static String EXTRA_TABLE_TO_DETAIL = \"extra_table_to_detail\";\r\n    public static String EXTRA_ADMIN_TO_DETAIL = \"extra_admin_to_detail\";\r\n    public static String EXTRA_CHEF_TO_DETAIL = \"extra_chef_to_detail\";\r\n\r\n    public static String TABLE_ID_SELECTED = \"TABLE_ID_SELECTED\";\r\n    public static String KEY_BEFORE_TABLE_ID = \"KEY_BEFORE_TABLE_ID\";\r\n\r\n    public static String KEY_ID_STAFF = \"KEY_ID_STAFF\";\r\n    public static String KEY_USERNAME = \"KEY_USERNAME\";\r\n    public static String KEY_PASSWORD = \"KEY_PASSWORD\";\r\n    public static String KEY_REMEMBER = \"KEY_REMEMBER\";\r\n\r\n    public static int TYPE_CLICK = 0;\r\n    public static int TYPE_NON_CLICK = 1;\r\n    public static final int TYPE_PAY_BILL = 2;\r\n\r\n    public static final int TYPE_PAY = 1;\r\n    public static final int TYPE_UPDATE = 2;\r\n\r\n    public static int TYPE_IN_TABLE = 0;\r\n    public static int TYPE_IN_PRODUCT = 1;\r\n    public static String BASE_URL = \"https://restaurant-server-eight.vercel.app/restaurant/api/\";\r\n    public static int CHECKOUT_BY_TRANSFER = 1;\r\n    public static int CHECKOUT_BY_SWIPE = 1;\r\n    public static Staff staff;\r\n    public static String CHANNEL_ID = \"Restaurant Chanel\";\r\n    public static String EXTRA_ID_BILL_TO_BROADCAST = \"EXTRA_ID_BILL_TO_BROADCAST\";\r\n    public static String REQUEST_TO_ACTIVITY = \"REQUEST_TO_ACTIVITY\";\r\n    public static String CREATE_FEEDBACK = \"CREATE_FEEDBACK\";\r\n\r\n    public static String CALL_CENTER_NUMBER = \"0372546891\";\r\n\r\n    public static void handleIncrease(TextView tvQuantity, int type) {\r\n        if (type == TYPE_IN_TABLE) {\r\n            int quantity = Integer.parseInt(tvQuantity.getText().toString());\r\n            quantity++;\r\n            tvQuantity.setText(quantity + \"\");\r\n        } else {\r\n            int quantity = Integer.parseInt(tvQuantity.getText().toString().subSequence(1, tvQuantity.getText().toString().length()).toString());\r\n            quantity++;\r\n            tvQuantity.setText(\"x\" + quantity);\r\n        }\r\n    }\r\n\r\n    public static void handleDecrease(TextView tvQuantity, int type) {\r\n        if (type == TYPE_IN_TABLE) {\r\n            int quantity = Integer.parseInt(tvQuantity.getText().toString());\r\n            if (quantity > 0) {\r\n                quantity--;\r\n                tvQuantity.setText(quantity + \"\");\r\n            }\r\n        } else {\r\n            int quantity = Integer.parseInt(tvQuantity.getText().toString().subSequence(1, tvQuantity.getText().toString().length()).toString());\r\n            if (quantity > 0) {\r\n                quantity--;\r\n                tvQuantity.setText(\"x\" + quantity);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    public static void skype(String number, Context ctx) {\r\n        try {\r\n            //Intent sky = new Intent(\"android.intent.action.CALL_PRIVILEGED\");\r\n            //the above line tries to create an intent for which the skype app doesn't supply public api\r\n            Intent sky = new Intent(\"android.intent.action.VIEW\");\r\n            sky.setData(Uri.parse(\"skype:\" + number));\r\n            ctx.startActivity(sky);\r\n        } catch (ActivityNotFoundException e) {\r\n            String appPackageName = \"com.skype.raider\";\r\n            Intent intent = new Intent(Intent.ACTION_VIEW);\r\n            intent.setData(Uri.parse(\r\n                    \"https://play.google.com/store/apps/details?id=\" + appPackageName));\r\n            intent.setPackage(\"com.android.vending\");\r\n            ctx.startActivity(intent);\r\n        }\r\n\r\n    }\r\n\r\n    public static void dialogShowDetailBill(Bill bill, Context context) {\r\n        AlertDialog.Builder builder = new AlertDialog.Builder(context);\r\n        DialogShowDetailBillBinding showDetailBillBinding = DialogShowDetailBillBinding.inflate(LayoutInflater.from(context));\r\n        builder.setView(showDetailBillBinding.getRoot());\r\n        AlertDialog dialog = builder.create();\r\n        showDetailBillBinding.txtNameTable.setText(bill.getTable().getName());\r\n        showDetailBillBinding.tvTime.setText(bill.getTime());\r\n        showDetailBillBinding.tvDate.setText(bill.getDate());\r\n        showDetailBillBinding.tvPrice.setText(bill.getTotalPrice() + \"\");\r\n        showDetailBillBinding.btnPay.setOnClickListener(view -> {\r\n            dialog.dismiss();\r\n        });\r\n        if (bill.getProducts() != null) {\r\n            showDetailBillBinding.rvProductBillDetail.setVisibility(View.VISIBLE);\r\n            ShowDetailProductBillAdapter adapterShowDetailBill = new ShowDetailProductBillAdapter(context, bill.getProducts());\r\n            showDetailBillBinding.rvProductBillDetail.setAdapter(adapterShowDetailBill);\r\n        }\r\n        dialog.show();\r\n        dialog.setCancelable(false);\r\n        dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));\r\n        dialog.getWindow().getAttributes().windowAnimations = R.style.DialogAnimation;\r\n        dialog.getWindow().setGravity(Gravity.CENTER);\r\n    }\r\n\r\n    public static void changePasswordStaff(String pass) {\r\n        Staff staff1 = new Staff();\r\n        staff1.setPassword(pass);\r\n        ServiceAPI serviceAPI = RetroInstance.getRetrofitInstance().create(ServiceAPI.class);\r\n        Call<Staff> changePass = serviceAPI.changePassword(staff.getId(), \"PUT\", staff1);\r\n        changePass.enqueue(new Callback<Staff>() {\r\n            @Override\r\n            public void onResponse(Call<Staff> call, Response<Staff> response) {\r\n                if (response.isSuccessful()) {\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call<Staff> call, Throwable t) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    public static void filterList(String s, List<Product> mListProduct, ProductAdapter adapter) {\r\n        List<Product> mListFilter = new ArrayList<>();\r\n        for (Product product : mListProduct) {\r\n            if (product.getName().toLowerCase().contains(s.toLowerCase())) {\r\n                mListFilter.add(product);\r\n            }\r\n            adapter.setList(mListFilter);\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/poly/restaurant/utils/Constants.java b/app/src/main/java/com/poly/restaurant/utils/Constants.java
--- a/app/src/main/java/com/poly/restaurant/utils/Constants.java	(revision ebb9b32a42f2cf1348c10534ec74b75dc61e7b43)
+++ b/app/src/main/java/com/poly/restaurant/utils/Constants.java	(date 1671550605455)
@@ -121,6 +121,7 @@
         DialogShowDetailBillBinding showDetailBillBinding = DialogShowDetailBillBinding.inflate(LayoutInflater.from(context));
         builder.setView(showDetailBillBinding.getRoot());
         AlertDialog dialog = builder.create();
+        dialog.setCancelable(false);
         showDetailBillBinding.txtNameTable.setText(bill.getTable().getName());
         showDetailBillBinding.tvTime.setText(bill.getTime());
         showDetailBillBinding.tvDate.setText(bill.getDate());
@@ -134,7 +135,6 @@
             showDetailBillBinding.rvProductBillDetail.setAdapter(adapterShowDetailBill);
         }
         dialog.show();
-        dialog.setCancelable(false);
         dialog.getWindow().setBackgroundDrawable(new ColorDrawable(Color.TRANSPARENT));
         dialog.getWindow().getAttributes().windowAnimations = R.style.DialogAnimation;
         dialog.getWindow().setGravity(Gravity.CENTER);
